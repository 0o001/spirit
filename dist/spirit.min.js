/*!
 * Spirit.js v2.0.8
 * (c) 2017 Patrick Brouwer
 * Released under the MIT License.
 */
(function(){function e(){}function t(e,t,n){var r=this,i=function(t){return(0,or.isFunction)(r.toObject)?r.toObject():$({},e,void 0!==t?t:n)},o=this["_"+e];o&&"function"==typeof o.toArray?o=o.toArray():o&&"function"==typeof o.toObject&&(o=o.toObject());var s=void 0;if(o!==n&&(s=i(o)),t.call(this,n),this._list instanceof br.default&&this._list._duplicates!==!0)try{this._list.checkOnDuplicates()}catch(e){throw t.call(this,o),e}if(o!==n){var a=o&&(0,or.isFunction)(o.toObject)?o.toObject():o,u=n&&(0,or.isFunction)(n.toObject)?n.toObject():n,l={type:e,from:a,to:u},c=void 0;try{c=i()}catch(t){c=$({},e,n)}var f={previous:s,current:c,changed:l},p=["change",f],h=["change:"+e,f,n];if(this.emit.apply(this,p),this.emit.apply(this,h),this._list&&this._list instanceof j.EventEmitter){var d,v;(d=this._list).emit.apply(d,p),(v=this._list).emit.apply(v,h)}}}function n(e,t,n){var r=e.reduce(function(e,t){return t.validator(n)||e.push(t.message),e},[]);if(r.length>0)throw new Xn.Error(""+r[0]);this["_"+t]=n}function r(e){return this["_"+e]}function i(){void 0===Bn&&(Bn={isBrowser:f},Un.value=!0,Kn(Bn,"__esModule",Un))}function o(){void 0===or&&(or={isObject:T,isSVG:L,isFunction:S},Un.value=!0,Kn(or,"__esModule",Un))}function s(){void 0===jr&&(dr={has:p,ensure:v,transformOrigins:m,generateTimeline:R,killTimeline:U},mr={bubbleEvent:Y,createEventObjectForModel:X,clearEvents:K},yr={objectToArray:z,arrayToObject:H},gr={getExpression:J,getElement:Z},_r={emitChange:W},jr={context:Bn,gsap:dr,events:mr,convert:yr,xpath:gr,is:or,emitter:_r,loadscript:d,jsonloader:ee,autobind:ie,debug:h},Un.value=!0,Kn(dr,"__esModule",Un),Un.value=!0,Kn(mr,"__esModule",Un),Un.value=!0,Kn(yr,"__esModule",Un),Un.value=!0,Kn(gr,"__esModule",Un),Un.value=!0,Kn(_r,"__esModule",Un),Un.value=!0,Kn(jr,"__esModule",Un))}function a(){void 0===Gr&&(Gr={default:Sr},Un.value=!0,Kn(Gr,"__esModule",Un))}function u(){void 0===Dr&&(Dr={EvalMap:D,Group:fe,Groups:ve,Keyframe:E,Keyframes:Ee,Prop:N,Props:Oe,Timeline:zt,Timelines:ce},Un.value=!0,Kn(Dr,"__esModule",Un))}function l(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function c(){"use strict";l(this,c),this.debug=!0,this.gsap={tween:null,timeline:null,autoInject:!0,autoInjectUrl:"https://unpkg.com/gsap/src/minified/TweenMax.min.js"}}function f(){"use strict";return"window"in Qn&&"document"in Qn}function p(){"use strict";return void 0===Dn&&(Dn={default:$n}),!(!Dn.default.gsap.tween||!Dn.default.gsap.timeline)}function h(){"use strict";return void 0===Fn&&(i(),Fn={default:$n}),!1}function d(e){"use strict";return void 0===Bn&&i(),(0,Bn.isBrowser)()?new Xn.Promise(function(t,n){var r=Xn.document.createElement("script");r.src=e,r.async=!0,r.onload=function(){Xn.document.body.removeChild(r),t()},r.onerror=function(){Xn.document.body.removeChild(r),n(new Xn.Error("Could not load script "+e))},Xn.document.body.appendChild(r)}):Xn.Promise.reject(new Xn.Error("Script can only be loaded in the browser: "+e))}function v(){"use strict";return void 0===Wn&&(void 0===Dn&&(Dn={default:$n}),Wn={default:h},er={default:d}),p()?Xn.Promise.resolve():Dn.default.gsap.autoInject?((0,Wn.default)()&&Xn.console.warn("\n      \n      GSAP is being fetched from CDN: "+Dn.default.gsap.autoInjectUrl+".\n      If you already have GSAP installed, please provide it to Spirit:\n      \n        spirit.setup({\n          tween: TweenMax,\n          timeline: TimelineMax\n        })\n      \n      You want to use another cdn? Change it here:\n       \n        spirit.config.gsap.autoInjectUrl = 'https://cdn.xxx'\n      \n    "),(0,er.default)(Dn.default.gsap.autoInjectUrl).then(function(){return Dn.default.gsap.tween=Xn.window.TweenMax,Dn.default.gsap.timeline=Xn.window.TimelineMax,Xn.Promise.resolve()})):((0,Wn.default)()&&Xn.console.warn('\n      \n        It seems that you have disabled autoInject. GSAP can not be found by Spirit.\n        Please make sure you provide the tween and timeline to Spirit.\n      \n        For example:\n        \n        spirit.setup({\n          tween: TweenMax,\n          timeline: TimelineMax\n        })\n        \n        Or enable the autoInject "spirit.config.gsap.autoInject = true".\n        \n      '),Xn.Promise.reject(new Xn.Error("GSAP not found.")))}function m(e){"use strict";var t=e.props.get("transformOrigin"),n=t&&t.keyframes.list.map(function(e){return{time:e.time,value:e.value}})||[];(n.length>0&&0!==n[0].time||0===n.length)&&n.unshift({time:0,value:"50% 50%"});var r=n.shift(),i=void 0,o=void 0;return o=function(){return{current:r,next:i}},i=function(){return r=n&&n.length>0&&n.shift()||null,o()},o()}function y(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function g(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function _(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function O(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){"use strict";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;w(this,E);var r=O(this,(E.__proto__||Xn.Object.getPrototypeOf(E)).call(this));return r._list=null,r._value=null,r.mappings=[],r.setMaxListeners(Xn.Infinity),n=n||null,Xn.Object.assign(r,{time:e,value:t,ease:n}),r}function j(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function k(e,t){return e.listenerCount(t)}function x(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function P(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e){"use strict";if(Xn.Array.isArray(e)){for(var t=0,n=Xn.Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Xn.Array.from(e)}function T(e){"use strict";return"[object Object]"===Xn.Object.prototype.toString.call(e)}function L(e){"use strict";return e instanceof Xn.window.SVGElement}function S(e){"use strict";return"function"==typeof e}function C(){"use strict";void 0===or&&o();var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;x(this,C);var r=P(this,(C.__proto__||Xn.Object.getPrototypeOf(C)).call(this));if(r._list=[],r._model=null,r._duplicates=!0,r._sortOn=!1,r._linkedList=!1,r.setMaxListeners(Xn.Infinity),r._model=t,t){var i=void 0!==n?new(Xn.Function.prototype.bind.apply(t,[null].concat(A(n)))):new t;if("function"!=typeof i.toObject)throw new Xn.Error("Invalid Model prototype. model.toObject does not exist.")}if(!Xn.Array.isArray(e))throw new Xn.Error("Items should be an array");return r._list=e.reduce(function(e,n){if(r._model)if(n instanceof r._model)n._list=r,n.setupBubbleEvents&&"function"==typeof n.setupBubbleEvents&&n.setupBubbleEvents(),e.push(n);else{if(!or.isObject(n)||"function"!=typeof t.fromObject)throw new Xn.Error("Could not parse item from model");var i=t.fromObject(n);i._list=r,i.setupBubbleEvents&&"function"==typeof i.setupBubbleEvents&&i.setupBubbleEvents(),e.push(i)}else e.push(n);return e},[]),r}function M(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function I(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e){"use strict";void 0===sr&&(sr={default:Ee});var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sr.default;M(this,N);var n=I(this,(N.__proto__||Xn.Object.getPrototypeOf(N)).call(this));return n._keyframes=null,n._list=null,n.setMaxListeners(Xn.Infinity),t instanceof sr.default||(t=new sr.default(t)),e=e||null,Xn.Object.assign(n,{name:e,keyframes:t}),n}function G(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function B(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function D(e,t){"use strict";if(B(this,D),!e||e&&!(e instanceof Xn.RegExp))throw new Xn.Error("Invalid expression.");if(null===t||void 0===t)throw new Xn.Error("Invalid mapping.");Xn.Object.assign(this,{regex:e,map:t})}function F(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){"use strict";if(void 0===hr&&(void 0===Dn&&(Dn={default:$n}),hr={default:zt}),!(e&&e instanceof hr.default))throw new Xn.Error("Need valid timeline data to generate GSAP timeline from");if(!Dn.default.gsap.timeline)throw new Xn.Error("GSAP not set. Please make sure GSAP is available.");if("dom"!==e.type)throw new Xn.Error("Timeline invalid. Needs a timeline with type of dom.");var t=new Dn.default.gsap.timeline({paused:!0}),n=m(e),r=n.current;return e.props.each(function(i){if(0!==i.keyframes.length&&"transformOrigin"!==i.name&&"svgOrigin"!==i.name)for(var o=i.keyframes.at(0);o;){var s=o,a=s.value,u=s.ease,l=s.time,c=o.prev(),f=c?c.time:0,p=c?l-c.time:l,h={ease:u||"Linear.easeNone"},d=F({},i.name,a);if(/\./.test(i.name)){for(var v=i.name.split("."),m=v.pop(),y={},g=y;v.length>0;){var b=v.shift();y[b]={},y=y[b]}y[m]=a,d=g}h=pr({},h,d),0===l&&(h.immediateRender=!0),i.isCSSTransform()&&r&&l>=r.time&&(h.transformOrigin=r.value,r=n.next().current),t.to(e.transformObject,p,h,f),o=o.next()}}),t}function U(e){"use strict";if(void 0===Dn&&(Dn={default:$n}),e&&e instanceof Dn.default.gsap.timeline){e.eventCallback("onComplete",null),e.eventCallback("onUpdate",null),e.eventCallback("onStart",null);var t=e.getChildren();e.kill();for(var n=0;n<t.length;n++)t[n]&&t[n]instanceof Dn.default.gsap.timeline?U(t[n]):null!==t[n].target&&Dn.default.gsap.tween.set(t[n].target,{clearProps:"all"});e.clear()}}function Y(e,t){"use strict";if(void 0===vr&&(vr={default:C}),!(t instanceof j.EventEmitter))throw new Xn.Error("Scope needs to be an event emitter.");return function(){if(this.emit.apply(this,[e].concat(Xn.Array.prototype.slice.call(arguments))),this._list instanceof vr.default){var t;(t=this._list).emit.apply(t,[e].concat(Xn.Array.prototype.slice.call(arguments)))}}.bind(t)}function q(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t,n,r,i){"use strict";var o={prevModel:e.fromObject(t),model:e.fromObject(pr({},t,q({},n,i))),changed:{type:n,from:r,to:i}};return o}function K(e){"use strict";var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.eventNames&&"function"==typeof e.eventNames?e.eventNames().forEach(function(t){return e.removeAllListeners(t)}):t.forEach(function(t){return e.removeAllListeners(t)})}function V(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){"use strict";return Xn.Object.keys(e).reduce(function(t,n){return t.push(V({},n,e[n])),t},[])}function H(e){"use strict";return e.reduce(function(e,t){return e=pr({},e,t)},{})}function J(e){"use strict";void 0===or&&o();for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[],r=function(){return!t||t!==e};e.nodeType===Xn.window.Node.ELEMENT_NODE&&r();){for(var i=0,s=e.previousSibling;s;s=s.previousSibling)s.nodeType!==Xn.window.Node.DOCUMENT_TYPE_NODE&&s.nodeName===e.nodeName&&++i;var a=e.nodeName.toLowerCase(),u="["+(i+1)+"]";(0,or.isSVG)(e)&&(a="*[local-name()='"+a+"']"),n.unshift(a+u),e=e.parentNode}return 0===n.length?null:t?n.join("/"):"/"+n.join("/")}function Z(e){"use strict";var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Xn.document.body);var n=Xn.document.evaluate(e,t,null,Xn.window.XPathResult.ANY_TYPE,null);return n.iterateNext()}function $(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n){"use strict";void 0===Jr&&(Jr=null,o(),void 0===br&&(br={default:C}));var r=n.set;if(!j.EventEmitter.prototype.isPrototypeOf(e)&&!j.EventEmitter.prototype.isPrototypeOf(e.prototype))throw new Xn.Error("@emitter.emitChange can only be applied to event emitters");return pr({},n,{configurable:!0,set:function(e){var n=this,i=function(r){return(0,or.isFunction)(n.toObject)?n.toObject():$({},t,void 0!==r?r:e)},o=this["_"+t];o&&"function"==typeof o.toArray?o=o.toArray():o&&"function"==typeof o.toObject&&(o=o.toObject());var s=void 0;if(o!==e&&(s=i(o)),r.call(this,e),this._list instanceof br.default&&this._list._duplicates!==!0)try{this._list.checkOnDuplicates()}catch(e){throw r.call(this,o),e}if(o!==e){var a=o&&(0,or.isFunction)(o.toObject)?o.toObject():o,u=e&&(0,or.isFunction)(e.toObject)?e.toObject():e,l={type:t,from:a,to:u},c=void 0;try{c=i()}catch(n){c=$({},t,e)}var f={previous:s,current:c,changed:l},p=["change",f],h=["change:"+t,f,e];if(this.emit.apply(this,p),this.emit.apply(this,h),this._list&&this._list instanceof j.EventEmitter){var d,v;(d=this._list).emit.apply(d,p),(v=this._list).emit.apply(v,h)}}}})}function W(e){"use strict";var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?function(r){var i;Xn.Object.defineProperties(r.prototype,(i={},$(i,"_"+e,{value:t,writable:!0,enumerable:!1,configurable:!0}),$(i,e,{configurable:!0,get:function(){return this["_"+e]},set:function(t){var r=n.reduce(function(e,n){return n.validator(t)||e.push(n.message),e},[]);if(r.length>0)throw new Xn.Error(""+r[0]);this["_"+e]=t}}),i));var o=Xn.Object.getOwnPropertyDescriptor(r.prototype,e);Xn.Object.defineProperty(r.prototype,e,Q(r,e,o))}:Q}function ee(e){"use strict";if(void 0===wr&&(i(),wr={},Or={}),!(0,Bn.isBrowser)())return Xn.Promise.reject(new Xn.Error("Invalid context. jsonLoader can only be used in browser."));if(e in wr)return Xn.Promise.resolve(wr[e]);if(e in Or)return Or[e];var t=new Xn.Promise(function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{var r=Xn.JSON.parse(this.responseText);wr[e]=r,t(r),delete Or[e]}catch(t){n(new Xn.Error("jsonLoader: Invalid json for request "+e))}};try{r.open("GET",Xn.encodeURI(e),!0),r.send()}catch(t){n(new Xn.Error("Could not open request. Unable to load "+e))}});return Or[e]||(Or[e]=t),t}function te(e){"use strict";return typeof e}function ne(e,t,n){"use strict";var r=n.value;if("function"!=typeof r)throw new Xn.Error("@autobind decorator can only be applied to methods not: "+("undefined"==typeof r?"undefined":te(r)));return{configurable:!0,get:function(){if(this===e.prototype||this.hasOwnProperty(t))return r;var n=r.bind(this);return Xn.Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n},set:function(){return r}}}function re(e){"use strict";void 0===Er&&(Er=["constructor"]);var t=Xn.Object.getOwnPropertyNames(e.prototype);return"function"==typeof Xn.Object.getOwnPropertySymbols&&(t=t.concat(Xn.Object.getOwnPropertySymbols(e.prototype))),t.forEach(function(t){if(!Er.includes(t)){var n=Xn.Object.getOwnPropertyDescriptor(e.prototype,t);"function"==typeof n.value&&Xn.Object.defineProperty(e.prototype,t,ne(e,t,n))}}),e}function ie(){"use strict";return 1===arguments.length?re.apply(void 0,arguments):ne.apply(void 0,arguments)}function oe(e){"use strict";return void 0===kr&&(o(),i(),s(),kr={default:$n},xr={default:h}),new Xn.Promise(function(t,n){var r=void 0,i=void 0;jr.is.isObject(e)&&("function"==typeof e.timeline&&"function"==typeof e.tween&&(r=e.timeline,i=e.tween),"boolean"==typeof e.debug&&(kr.default.debug=e.debug)),(0,xr.default)()&&Xn.console.warn("You are running the development build of Spirit v2.0.8."),i&&r?(kr.default.gsap.tween=i,kr.default.gsap.timeline=r,t()):jr.gsap.ensure().then(t).catch(n)})}function se(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function ae(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ue(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function le(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ce(){"use strict";void 0===Tr&&(Tr={default:zt});var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ue(this,ce),le(this,(ce.__proto__||Xn.Object.getPrototypeOf(ce)).call(this,e,Tr.default,["object",{}]))}function fe(){"use strict";void 0===Mr&&(Mr={default:ce});var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};se(this,fe);var t=ae(this,(fe.__proto__||Xn.Object.getPrototypeOf(fe)).call(this));if(t._name="untitled",t._timeScale=1,t._timelines=new Mr.default,t.timeline=null,t.unresolved=[],t.setMaxListeners(Xn.Infinity),!e.name||"string"!=typeof e.name||""===e.name.trim())throw new Xn.Error("Cannot create group without a name.");var n={name:"untitled",timeScale:1,timelines:new Mr.default};return Xn.Object.assign(t,pr({},n,e)),t}function pe(e){"use strict";return new fe(e)}function he(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function de(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ve(){"use strict";void 0===Nr&&(a(),Nr={default:fe});var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn.document.body,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];he(this,ve);var n=de(this,(ve.__proto__||Xn.Object.getPrototypeOf(ve)).call(this,t,Nr.default,[{name:"untitled"}]));if(n.rootEl=null,!(e instanceof Xn.window.Element))throw new Xn.Error("No root element provided.");return n.rootEl=e,n.each(function(e){return Gr.default.add(e)}),n}function me(e,t){"use strict";void 0===Zr&&(Zr=null,o(),i(),s());var n=void 0;if("object"!==t.type){if(t.id&&(n=e.querySelector('[data-spirit-id="'+t.id+'"]'),!n&&!t.path))throw(0,jr.debug)()&&(Xn.console.group("Unable to resolve element by [data-spirit-id] attribute"),Xn.console.warn("Timeline: ",t),Xn.console.groupEnd()),new Xn.Error('Cannot find element with [data-spirit-id="'+t.id+'"]');if(!n&&t.path&&(e===Xn.document.body&&(e=void 0),n=jr.xpath.getElement(t.path,e),!n))throw(0,jr.debug)()&&(Xn.console.group("Unable to resolve element by path expression"),Xn.console.warn("Timeline: ",t),Xn.console.groupEnd()),new Xn.Error("Cannot find element with path expression "+t.path);if(!n)throw(0,jr.debug)()&&(Xn.console.group("Unable to resolve element"),Xn.console.warn("Timeline: ",t),Xn.console.groupEnd()),new Xn.Error("Cannot find element.")}return n}function ye(e){"use strict";return"string"==typeof e.label&&e.label.trim().length>0?e.label:e.id?e.id:e.path?e.path:"undefined"}function ge(e,t){"use strict";return t.id&&e.getAttribute("data-spirit-id")===t.id?t.id:"dom"===t.type&&e.hasAttribute("data-spirit-id")?e.getAttribute("data-spirit-id"):null}function be(e){"use strict";void 0===$r&&($r=null,o(),i(),s(),u());var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!jr.context.isBrowser())throw new Xn.Error("Invalid context. spirit.create() can only be executed in the browser.");var n=!1;t instanceof Xn.window.Element||(n=!0,t=Xn.document.body||Xn.document.documentElement),jr.is.isObject(e)&&e.groups&&Xn.Array.isArray(e.groups)&&(e=e.groups),Xn.Array.isArray(e)||(e=[e]);var r=new Dr.Groups(t,[]);return e.forEach(function(e){var i=t;n&&e.root&&(i=e.root.id?t.querySelector("[data-spirit-id="+e.root.id+"]"):jr.xpath.getElement(e.root.path,t),i||(i=t));var o={name:e.name,timeScale:e.timeScale||1,timelines:[],unresolved:[]},s=e.timelines||[];s.forEach(function(e){var t=void 0;try{t=me(i,e),o.timelines.push({transformObject:t,type:e.type,props:e.props,label:ye(e),path:jr.xpath.getExpression(t,i),id:ge(t,e)})}catch(t){o.unresolved.push({data:e,error:t})}});var a=new Dr.Group(o);r.add(a)}),r}function _e(e){"use strict";void 0===Qr&&(Qr=null,o(),i(),s());var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return jr.context.isBrowser()?(0,jr.jsonloader)(e).then(function(e){return be(e,t)}):Xn.Promise.reject(new Xn.Error("Invalid context: spirit.load() can only be executed in the browser."))}function we(){"use strict";void 0===Gn&&(Gn={default:$n},Pr={default:oe},Ar={default:Sr},Fr={create:be,load:_e},Un.value=!0,Kn(Fr,"__esModule",Un)),this.config=Gn.default,this.version="2.0.8",this.setup=Pr.default,this.groups=Ar.default,this.create=Fr.create,this.load=Fr.load}function Oe(){"use strict";void 0===Wr&&(Wr=null,o(),i(),s(),void 0===ur&&(ur={default:N}));var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,Oe),jr.is.isObject(e)&&(e=jr.convert.objectToArray(e));var t=g(this,(Oe.__proto__||Xn.Object.getPrototypeOf(Oe)).call(this,e,ur.default,["prop"]));return t.duplicates={prop:"name"},t.sortOn=function(e,t){return t.name<e.name},t.linkedList=!0,t._mappings=[],t}function Ee(){"use strict";void 0===ei&&(ei=null,o(),i(),s(),void 0===nr&&(nr={default:E}));var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];b(this,Ee),jr.is.isObject(e)&&(e=jr.convert.objectToArray(e));var t=_(this,(Ee.__proto__||Xn.Object.getPrototypeOf(Ee)).call(this,e,nr.default,[0,0]));return t.duplicates={prop:"time"},t.sortOn="time",t.linkedList=!0,t._mappings=[],t}function je(){"use strict";return this._next}function ke(){"use strict";return this._prev}function xe(){"use strict";return/{(.*?)}/.test(this._value)}function Pe(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(){"use strict";var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0;try{t=e?this._value:this.value}catch(e){t=this._value}return Pe({},this.time+"s",{value:t,ease:this.ease})}function Te(){"use strict";void 0===ti&&(ti=null,o(),i(),s()),jr.events.clearEvents(this,E.Events)}function Le(e){"use strict";this._value=e}function Se(e){return void 0===ni&&(ni=null,o(),void 0===br&&(br={default:C})),t.call(this,"value",Le,e)}function Ce(e){return void 0===ri&&(ri=null,o(),void 0===br&&(br={default:C})),t.call(this,"ease",Ue,e)}function Me(e){return void 0===ii&&(ii=null,o(),void 0===br&&(br={default:C})),t.call(this,"time",Ye,e)}function Ie(e){return void 0===oi&&(oi=null,o(),void 0===br&&(br={default:C})),t.call(this,"keyframes",It,e)}function Ne(e){return void 0===si&&(si=null,o(),void 0===br&&(br={default:C})),t.call(this,"name",qe,e)}function Ge(e){return void 0===ai&&(ai=null,o(),void 0===br&&(br={default:C})),t.call(this,"timelines",pn,e)}function Be(e){return void 0===ui&&(ui=null,o(),void 0===br&&(br={default:C})),t.call(this,"timeScale",hn,e)}function De(e){return void 0===li&&(li=null,o(),void 0===br&&(br={default:C})),t.call(this,"duration",dn,e)}function Fe(e){return void 0===ci&&(ci=null,o(),void 0===br&&(br={default:C})),t.call(this,"name",vn,e)}function Re(){"use strict";return this._list}function Ue(e){return void 0===Ur&&(Ur=[]),n.call(this,Ur,"ease",e)}function Ye(e){return void 0===Yr&&(Yr=[{validator:Xe,message:"Time must be a number"}]),n.call(this,Yr,"time",e)}function qe(e){return void 0===qr&&(qr=[{validator:Nt,message:"Name must be a string"},{validator:Gt,message:"Name must be a string"}]),n.call(this,qr,"name",e)}function Xe(e){"use strict";return"number"==typeof e}function Ke(e){return"number"==typeof e}function Ve(e){if(!Ke(e)||e<0||Xn.isNaN(e))throw Xn.TypeError("n must be a positive number");return this._maxListeners=e,this}function ze(e){return"object"==typeof e&&null!==e}function He(e){return void 0===e}function Je(e){return"function"==typeof e}function Ze(e){var t,n,r,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||ze(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Xn.Error)throw t;var a=new Xn.Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(n=this._events[e],He(n))return!1;if(Je(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Xn.Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(ze(n))for(i=Xn.Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,o=0;o<r;o++)s[o].apply(this,i);return!0}function $e(e,t){var n;if(!Je(t))throw Xn.TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Je(t.listener)?t.listener:t),this._events[e]?ze(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,ze(this._events[e])&&!this._events[e].warned&&(n=He(this._maxListeners)?j.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,Xn.console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof Xn.console.trace&&Xn.console.trace())),this}function Qe(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!Je(t))throw Xn.TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this}function We(e,t){var n,r,i,o;if(!Je(t))throw Xn.TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Je(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(ze(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this}function et(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Je(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this}function tt(e){var t;return t=this._events&&this._events[e]?Je(this._events[e])?[this._events[e]]:this._events[e].slice():[]}function nt(e){if(this._events){var t=this._events[e];if(Je(t))return 1;if(t)return t.length}return 0}function rt(e){"use strict";if(void 0===fi&&(fi=null,o(),i(),s()),!jr.is.isObject(e))throw new Xn.Error("Object is invalid");var t=Xn.Object.keys(e);if(0===t.length||t.length>1)throw new Xn.Error("Object is invalid");var n=t[0],r=e[n],a=r.value,u=r.ease;if(jr.is.isObject(e[n])||"string"!=typeof e[n]&&"number"!=typeof e[n]||(a=e[n],u=null),n=Xn.parseFloat(n),Xn.isNaN(n))throw new Xn.Error("Object is invalid. Invalid time object { `1s`: ... }");if(void 0===a||null===a)throw new Xn.Error("Object is invalid. No value found: {value}");return new E(n,a,u)}function it(e,t,n){"use strict";null===e&&(e=Xn.Function.prototype);var r=Xn.Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Xn.Object.getPrototypeOf(e);return null===i?void 0:it(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}function ot(e){"use strict";if(Xn.Array.isArray(e)){for(var t=0,n=Xn.Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Xn.Array.from(e)}function st(e){"use strict";void 0===pi&&(pi=null,o(),i(),s(),void 0===nr&&(nr={default:E}));var t=this;jr.is.isObject(e)&&!(e instanceof nr.default)&&Xn.Object.keys(e).length>1&&(e=jr.convert.objectToArray(e));var n=it(Ee.prototype.__proto__||Xn.Object.getPrototypeOf(Ee.prototype),"add",this).call(this,e),r=function(e){e.mappings=[].concat(ot(t.mappings))};return Xn.Array.isArray(n)?n.forEach(r):r(n),n}function at(e){"use strict";var t=it(Ee.prototype.__proto__||Xn.Object.getPrototypeOf(Ee.prototype),"remove",this).call(this,e),n=function(e){e.mappings=[]};return Xn.Array.isArray(t)?t.forEach(n):n(t),t}function ut(e){"use strict";var t=Xn.parseFloat(e);return this._list.find(function(e){return e.time===t})}function lt(){"use strict";var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.list.reduce(function(t,n){return pr({},t,n.toObject(e))},{})}function ct(){"use strict";void 0===hi&&(hi=null,o(),i(),s()),this.each(function(e){return e.destroy()}),jr.events.clearEvents(this,Ee.Events)}function ft(e){"use strict";this._mappings=e,this.each(function(t){t.mappings=[].concat(ot(e))})}function pt(){"use strict";void 0===or&&o();var e=this._duplicates,t=!1,n=!1;if("boolean"==typeof e&&e===!1&&(t=this.list.map(function(e){return{count:1,item:e}}).reduce(function(e,t){return e[t.item]=(e[t.item]||0)+t.count,e},{})),or.isObject(e)&&e.hasOwnProperty("prop")&&(n=!0,t=this.list.map(function(t){return{count:1,prop:t[e.prop]}}).reduce(function(e,t){return e[t.prop]=(e[t.prop]||0)+t.count,e},{})),t&&Xn.Object.keys(t).filter(function(e){return t[e]>1}).length>0){var r=Xn.Object.keys(t).find(function(e){return t[e]>1}),i=!!n&&e.prop+": "+r,s=!!this._model&&this.constructor.name+" > "+this._model.name+" > { "+i+" }";throw new Xn.Error("List has duplicates. "+s)}}function ht(){"use strict";var e=this._sortOn;"boolean"==typeof e&&e===!0&&(this._list=this._list.sort()),"string"==typeof e&&(this._list=this._list.sort(function(t,n){return t[e]-n[e]})),"function"==typeof e&&(this._list=this._list.sort(e))}function dt(){"use strict";if(void 0===or&&o(),this._linkedList)for(var e=0;e<this._list.length;e++){if(!or.isObject(this._list[e]))throw new Xn.Error("Can not link primitives.");this._list[e]._prev=e>0?this._list[e-1]:null,this._list[e]._next=e<this._list.length-1?this._list[e+1]:null}}function vt(e){"use strict";if(e>=this._list.length)throw new Xn.Error("Index exceeded. Requested "+e+", have length of "+this.length);return this._list[e]}function mt(e){"use strict";void 0===or&&o();var t=this,n=null,r=function(e){var r=void 0;if(t._model)if(e instanceof t._model)r=e,r._list=t,r.setupBubbleEvents&&"function"==typeof r.setupBubbleEvents&&r.setupBubbleEvents();else{if(!or.isObject(e)||"function"!=typeof t._model.fromObject)throw new Xn.Error("Invalid item.");r=t._model.fromObject(e),r._list=t,r.setupBubbleEvents&&"function"==typeof r.setupBubbleEvents&&r.setupBubbleEvents()}else r=e;Xn.Array.isArray(n)?n.push(r):n=r,t._list.push(r),t.emit("add",r)};return Xn.Array.isArray(e)?(n=[],e.forEach(r)):r(e),this.checkOnDuplicates(),this.sort(),this.linkItems(),n}function yt(e){"use strict";void 0===or&&o();var t=this,n=null,r=function(e){var r=function(e){var r=t._list.indexOf(e);r>-1&&(t._list.splice(r,1),or.isObject(e)&&("_prev"in e&&delete e._prev,"_next"in e&&delete e._next),t.emit("remove",e),e._list&&e._list instanceof C&&(e._list=null),Xn.Array.isArray(n)?n.push(e):n=e)};t._model?e instanceof t._model&&r(e):r(e)};return Xn.Array.isArray(e)?(n=[],e.forEach(r)):r(e),this.sort(),this.linkItems(),n}function gt(){"use strict";this.each(this.remove.bind(this))}function bt(e){"use strict";for(var t=[].concat(A(this.list)),n=[],r=!1,i=0;i<t.length;i++){var o=t[i];try{n.push(e(o,i))}catch(e){r=e}if(r)break;
}if(r)throw r;return n}function _t(){"use strict";void 0===or&&o();var e=this._model?this.list.map(function(e){return e.toObject()}):this.list;return e.reduce(function(e,t){if(or.isObject(t)){var n=pr({},t);delete n._prev,delete n._next,delete n._list,e.push(n)}else e.push(t);return e},[])}function wt(e){"use strict";this._duplicates=e,this.checkOnDuplicates()}function Ot(e){"use strict";this._sortOn=e,this.sort()}function Et(e){"use strict";this._linkedList=e,this.linkItems()}function jt(e){"use strict";if(!Xn.Array.isArray(e))throw new Xn.Error("List should be an array");this._list=e,this._linkedList&&this.linkItems(),this.emit("change:list",e)}function kt(){"use strict";return this.list.length}function xt(){"use strict";return this._next}function Pt(){"use strict";return this._prev}function At(){"use strict";void 0===di&&(di=null,o(),i(),s(),void 0===sr&&(sr={default:Ee}));var e=this;if(this._keyframes instanceof sr.default){jr.events.clearEvents(this._keyframes,sr.default.Events);var t=function(t,n){e._keyframes.on(t,jr.events.bubbleEvent(n,e))};t("change:list","change:keyframes:list"),t("change","change:keyframe"),t("change:time","change:keyframe:time"),t("change:value","change:keyframe:value"),t("change:ease","change:keyframe:ease"),t("add","add:keyframe"),t("remove","remove:keyframe")}}function Tt(e,t,n){"use strict";return t in e?Xn.Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(){"use strict";var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.keyframes?this.keyframes.toObject(e):{};return Tt({},this.name,t)}function St(){"use strict";return["x","y","z","rotation","rotationZ","rotationX","rotationY","skewX","skewY","scale","scaleX","scaleY"].includes(this.name)}function Ct(){"use strict";void 0===vi&&(vi=null,o(),i(),s()),this._keyframes&&this._keyframes.destroy(),jr.events.clearEvents(this,N.Events)}function Mt(){"use strict";return this._list}function It(e){"use strict";void 0===mi&&(mi=null,o(),i(),s(),void 0===sr&&(sr={default:Ee})),e instanceof sr.default||(e=new sr.default(e));var t=[];this._keyframes&&(t=this._keyframes.mappings,jr.events.clearEvents(this._keyframes,sr.default.Events),this._keyframes.clear()),this._keyframes=e,this._keyframes.mappings=t,this.setupBubbleEvents()}function Nt(e){"use strict";return"string"==typeof e}function Gt(e){"use strict";return!/^\d+\.?\d*?$/.test(e)}function Bt(e){"use strict";if(void 0===yi&&(yi=null,o(),i(),s()),!jr.is.isObject(e))throw new Xn.Error("Object is invalid");var t=Xn.Object.keys(e);if(0===t.length)throw new Xn.Error("Object is invalid");for(var n in e)if(!jr.is.isObject(e[n]))throw new Xn.Error("Object is invalid");var r=t[0];return new N(r,e[r])}function Dt(e){"use strict";return this._list.find(function(t){return t.name===e})}function Ft(e,t,n){"use strict";null===e&&(e=Xn.Function.prototype);var r=Xn.Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Xn.Object.getPrototypeOf(e);return null===i?void 0:Ft(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}function Rt(e){"use strict";if(Xn.Array.isArray(e)){for(var t=0,n=Xn.Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Xn.Array.from(e)}function Ut(e){"use strict";void 0===gi&&(gi=null,o(),i(),s(),void 0===ur&&(ur={default:N}));var t=this;jr.is.isObject(e)&&!(e instanceof ur.default)&&Xn.Object.keys(e).length>1&&(e=jr.convert.objectToArray(e));var n=Ft(Oe.prototype.__proto__||Xn.Object.getPrototypeOf(Oe.prototype),"add",this).call(this,e),r=function(e){e.keyframes.mappings=[].concat(Rt(t.mappings))};return Xn.Array.isArray(n)?n.forEach(r):r(n),n}function Yt(e){"use strict";var t=Ft(Oe.prototype.__proto__||Xn.Object.getPrototypeOf(Oe.prototype),"remove",this).call(this,e),n=function(e){e.keyframes.mappings=[]};return Xn.Array.isArray(t)?t.forEach(n):n(t),t}function qt(e){"use strict";return!!this.get(e)}function Xt(){"use strict";var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.list.reduce(function(t,n){return pr({},t,n.toObject(e))},{})}function Kt(){"use strict";void 0===bi&&(bi=null,o(),i(),s()),this.each(function(e){return e.destroy()}),jr.events.clearEvents(this,Oe.Events)}function Vt(e){"use strict";this._mappings=e,this.each(function(t){t.keyframes.mappings=[].concat(Rt(e))})}function zt(){"use strict";void 0===fr&&(o(),i(),s(),void 0===cr&&(cr={default:Oe}),fr={default:D});var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dom",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new cr.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(G(this,zt),this.type="dom",this.transformObject=null,this.label=null,this.path=null,this.id=null,this.props=null,n instanceof cr.default||(n=new cr.default(n)),Xn.Object.assign(this,{type:e,transformObject:t,props:n,label:u,path:r,id:a}),"dom"===e){if(!t||jr.context.isBrowser()&&!(t instanceof Xn.window.Element))throw new Xn.Error("transformObject needs to be an element.");if(!a&&!r)throw new Xn.Error("path is not defined")}if("object"===e&&!t)throw new Xn.Error("transformObject needs to be an object");this.props.mappings=[new fr.default(/this/g,t)]}function Ht(e){"use strict";if(void 0===_i&&(_i=null,o(),i(),s()),!jr.is.isObject(e))throw new Xn.Error("Object is invalid.");var t=Xn.Object.keys(e);if(!t.includes("transformObject"))throw new Xn.Error("Object is invalid");var n=jr.convert.objectToArray(e).filter(function(e){return void 0!==e});return n=pr({type:n.type||"dom",props:{}},jr.convert.arrayToObject(n)),new zt(n.type,n.transformObject,n.props,n.path||void 0,n.id||void 0,n.label||void 0)}function Jt(){"use strict";var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:this.type,transformObject:this.transformObject,props:this.props.toObject(e),label:this.label,path:this.path,id:this.id};return Xn.Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}function Zt(){"use strict";void 0===cr&&(cr={default:Oe}),this.props instanceof cr.default&&this.props.each(function(e){return e.destroy()})}function $t(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function Qt(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Wt(){"use strict";return $t(this,Wt),Qt(this,(Wt.__proto__||Xn.Object.getPrototypeOf(Wt)).call(this,[]))}function en(e,t,n){"use strict";null===e&&(e=Xn.Function.prototype);var r=Xn.Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Xn.Object.getPrototypeOf(e);return null===i?void 0:en(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}function tn(e){"use strict";if(void 0===wi&&(wi=null,o(),i(),s(),u()),!(e instanceof Dr.Group))throw new Xn.Error("Invalid group. Only Group instances allowed.");this.groupNames().includes(e.name)?(0,jr.debug)()&&Xn.console.warn('registry.add() Group "'+e.name+'" already exist in registry. Skip registry (spirit.groups)'):((0,jr.debug)()&&Xn.console.warn('registry.add() Group "'+e.name+'" added to registry (spirit.groups) and can be resolved by Spirit app'),en(Wt.prototype.__proto__||Xn.Object.getPrototypeOf(Wt.prototype),"add",this).call(this,e))}function nn(e){"use strict";return this.list.find(function(t){return t.name===e})}function rn(){"use strict";return this.list.map(function(e){return e.name})}function on(e){"use strict";return this._list.find(function(t){return t.transformObject===e})}function sn(){"use strict";var e=this.name,t=this.timeScale,n=this.timelines.toArray();return{name:e,timeScale:t,timelines:n}}function an(){"use strict";void 0===Oi&&(Oi=null,o(),i(),s()),this.timeline&&jr.gsap.killTimeline(this.timeline)}function un(e,t){"use strict";if(!(e instanceof t))throw new Xn.TypeError("Cannot call a class as a function")}function ln(e,t){"use strict";if(!e)throw new Xn.ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function cn(e,t){"use strict";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;un(this,cn);var r=ln(this,(cn.__proto__||Xn.Object.getPrototypeOf(cn)).call(this,e));return r.transformObject=null,n?r.stack=n:Xn.Error.captureStackTrace(r,cn),r.transformObject=t,r.name="TimelineError",r.message=e,r}function fn(){"use strict";void 0===zr&&(o(),i(),s(),void 0===Xr&&(Xr={default:$n}),zr={TimelineError:cn},Un.value=!0,Kn(zr,"__esModule",Un));var e=this;try{if(!Xr.default.gsap.timeline||!Xr.default.gsap.tween)throw(0,jr.debug)()&&Xn.console.warn("\n            Trying to construct group "+this.name+", but GSAP cannot be found.\n            \n            Did you forgot to call spirit.setup() perhaps?\n            \n            @usage\n                \n                spirit.setup().then(function(){\n                  // gsap is loaded here..\n                })\n                \n            or provide gsap instances manually:\n            \n                spirit.setup({ \n                  tween:    TweenLite,\n                  timeline: TimelineLite\n                }).then(function(){\n                  // gsap is loaded here..\n                })\n                \n          "),new Xn.Error("GSAP cannot be found");this.timeline&&this.timeline instanceof Xr.default.gsap.timeline?jr.gsap.killTimeline(this.timeline):this.timeline=new Xr.default.gsap.timeline({paused:!0}),this.timelines.each(function(t){if("dom"===t.type){var n=t.transformObject;if(!(n instanceof Xn.window.Element))throw new zr.TimelineError("transformObject is not an Element",n);try{e.timeline.add(jr.gsap.generateTimeline(t).play(),0,"start")}catch(e){throw new zr.TimelineError(e.message,n,e.stack)}}}),this.timeline.timeScale(this.timeScale),this._duration=this.timeline.duration()}catch(e){throw e.message="Could not construct timeline: "+e.message,e}return this.emit("construct",this.timeline),this.timeline}function pn(e){"use strict";void 0===Mr&&(Mr={default:ce}),e instanceof Mr.default||(e=new Mr.default(Xn.Array.from(e))),this._timelines=e}function hn(e){"use strict";if(void 0===Xr&&(Xr={default:$n}),"number"!=typeof e||!Xn.isFinite(e))throw new Xn.Error("timeScale needs to be a number");this.timeline&&this.timeline instanceof Xr.default.gsap.timeline&&this.timeline.timeScale(e),this._timeScale=e}function dn(e){"use strict";void 0===Xr&&(Xr={default:$n}),this.timeline&&this.timeline instanceof Xr.default.gsap.timeline&&(this.timeline.duration(e),this.timeScale=this.timeline.timeScale(),this._duration=this.timeline.duration())}function vn(e){"use strict";if("string"!=typeof e)throw new Xn.Error("Name needs to be a string");this._name=e}function mn(e,t,n){"use strict";null===e&&(e=Xn.Function.prototype);var r=Xn.Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Xn.Object.getPrototypeOf(e);return null===i?void 0:mn(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}function yn(e){"use strict";void 0===Gr&&a();var t=mn(ve.prototype.__proto__||Xn.Object.getPrototypeOf(ve.prototype),"add",this).call(this,e);return Xn.Array.isArray(t)?t.forEach(function(e){return Gr.default.add(e)}):Gr.default.add(t),t}function gn(e){"use strict";void 0===Gr&&a();var t=mn(ve.prototype.__proto__||Xn.Object.getPrototypeOf(ve.prototype),"remove",this).call(this,e);return Xn.Array.isArray(t)?t.forEach(function(e){return Gr.default.remove(e)}):Gr.default.remove(t),t}function bn(){"use strict";if(void 0===Hr&&(o(),i(),s(),Hr={default:$n}),!Hr.default.gsap.timeline||!Hr.default.gsap.tween)throw(0,jr.debug)()&&Xn.console.warn("\n            Trying to construct groups, but GSAP cannot be found.\n            \n            Did you forgot to call spirit.setup() ?\n            \n            spirit.setup() usage:\n            \n                // auto inject gsap from cdn:\n                spirit.setup()\n                \n                // or provide gsap instances manually:\n                spirit.setup({\n                  tween:    TweenMax,\n                  timeline: TimelineMax\n                })\n          "),new Xn.Error("GSAP cannot be found");return this.list.map(function(e){return e.construct()})}function _n(e){"use strict";return this.list.find(function(t){return t.name===e})}function wn(){"use strict";return this._name}function On(){"use strict";return this.timeline?this.timeline.duration():0}function En(){"use strict";return this._timeScale}function jn(){"use strict";return this._timelines}function kn(){"use strict";return this._mappings}function xn(){return r.call(this,"name")}function Pn(){return r.call(this,"time")}function An(){return r.call(this,"ease")}function Tn(){"use strict";return this._keyframes}function Ln(){"use strict";return this._list}function Sn(){"use strict";return this._linkedList}function Cn(){"use strict";return this._sortOn}function Mn(){"use strict";return this._duplicates}function In(){"use strict";return this._mappings}function Nn(){"use strict";var e=this;if(this.isEval()){var t=this.mappings.reduce(function(t,n){return n.regex.global&&(n.regex.lastIndex=0),n.regex.test(e._value)&&(t[n.regex]=n),t},{}),n=this._value;for(var r in t)n=n.replace(t[r].regex,"mappings["+r+"].map");var i=void 0;try{i=Xn.eval(n)}catch(e){if(this.mappings.length>0)throw e}return i}return this._value}var Gn,Bn,Dn,Fn,Rn={enumerable:!1,configurable:!0,writable:!1},Un={enumerable:!1,configurable:!1,writable:!1},Yn={enumerable:!1,configurable:!0,writable:!0},qn={enumerable:!1,configurable:!0},Xn=this,Kn=Object.defineProperty,Vn=Object.setPrototypeOf,zn=c.prototype,Hn=j.prototype,Jn=we.prototype,Zn=zt.prototype,$n=(e.prototype=zn,new e),Qn=this;Rn.value="debug",Kn(h,"name",Rn);var Wn;Rn.value="loadScript",Kn(d,"name",Rn);var er;Rn.value="EventEmitter",Kn(j,"name",Rn),j.EventEmitter=j,j.defaultMaxListeners=10,j.listenerCount=k;var tr=(e.prototype=Hn,new e);E.prototype=tr,Rn.value="Keyframe",Kn(E,"name",Rn),E.fromObject=rt,E.Events=["change","change:time","change:value","change:ease"],Vn(E,j);var nr,rr=(e.prototype=Hn,new e),ir=(e.prototype=rr,new e);Ee.prototype=ir,Rn.value="Keyframes",Kn(Ee,"name",Rn),Ee.Events=["change:list","add","remove","change","change:time","change:value","change:ease"];var or;C.prototype=rr,Rn.value="List",Kn(C,"name",Rn),C.Events=["change:list","add","remove"],Vn(C,j),Vn(Ee,C);var sr,ar=(e.prototype=Hn,new e);N.prototype=ar,Rn.value="Prop",Kn(N,"name",Rn),N.fromObject=Bt,N.Events=["change","change:name","change:keyframes","change:keyframes:list","change:keyframe","change:keyframe:time","change:keyframe:value","change:keyframe:ease","add:keyframe","remove:keyframe"],Vn(N,j);var ur,lr=(e.prototype=rr,new e);Oe.prototype=lr,Rn.value="Props",Kn(Oe,"name",Rn),Oe.Events=["change:list","add","remove","change","change:name","change:keyframes","change:keyframes:list","change:keyframe","change:keyframe:time","change:keyframe:value","change:keyframe:ease","add:keyframe","remove:keyframe"],Vn(Oe,C);var cr;Rn.value="EvalMap",Kn(D,"name",Rn);var fr;Rn.value="Timeline",Kn(zt,"name",Rn);var pr=Object.assign;zt.fromObject=Ht;var hr,dr,vr,mr,yr,gr,br,_r,wr,Or,Er,jr,kr,xr;Rn.value="setup",Kn(oe,"name",Rn);var Pr,Ar,Tr,Lr=(e.prototype=rr,new e),Sr=(e.prototype=Lr,new e),Cr=(e.prototype=rr,new e);ce.prototype=Cr,Rn.value="Timelines",Kn(ce,"name",Rn),Vn(ce,C);var Mr,Ir=(e.prototype=Hn,new e);fe.prototype=Ir,Rn.value="Group",Kn(fe,"name",Rn),fe.fromObject=pe,Vn(fe,j);var Nr,Gr,Br=(e.prototype=rr,new e);ve.prototype=Br,Rn.value="Groups",Kn(ve,"name",Rn),Vn(ve,C);var Dr,Fr,Rr=(e.prototype=Jn,new e);if(Rr.config=$n,Rr.version="2.0.8",Rr.setup=oe,Rr.groups=Sr,Rr.create=be,Rr.load=_e,Rr.__proto__!==Jn)throw new Error("unexpected prototype");if($n.debug=!0,$n.__proto__!==zn)throw new Error("unexpected prototype");Yn.value=E,Kn(tr,"constructor",Yn),Rn.value="set",Kn(Le,"name",Rn),qn.set=void 0,Yn.value=null,Kn(tr,"_ease",Yn);var Ur;Rn.value="set",Kn(Ue,"name",Rn),Yn.value=null,Kn(tr,"_time",Yn);var Yr;if(Rn.value="set",Kn(Ye,"name",Rn),tr.__proto__!==Hn)throw new Error("unexpected prototype");if(Hn._events=void 0,Hn._maxListeners=void 0,Hn.on=$e,Yn.value=Ee,Kn(ir,"constructor",Yn),Rn.value="get",Kn(it,"name",Rn),ir.__proto__!==rr)throw new Error("unexpected prototype");if(Yn.value=C,Kn(rr,"constructor",Yn),qn.set=void 0,rr.__proto__!==Hn)throw new Error("unexpected prototype");Yn.value=N,Kn(ar,"constructor",Yn),qn.set=void 0,Rn.value="set",Kn(It,"name",Rn),Yn.value=null,Kn(ar,"_name",Yn);var qr;if(Rn.value="set",Kn(qe,"name",Rn),ar.__proto__!==Hn)throw new Error("unexpected prototype");if(Yn.value=Oe,Kn(lr,"constructor",Yn),Rn.value="get",Kn(Ft,"name",Rn),lr.__proto__!==rr)throw new Error("unexpected prototype");if(Sr._maxListeners=1/0,Sr._model=null,Sr._duplicates=!0,Sr._sortOn=!1,Sr._linkedList=!1,Sr.__proto__!==Lr)throw new Error("unexpected prototype");if(Wt.prototype=Lr,Vn(Wt,C),Rn.value="get",Kn(en,"name",Rn),Lr.__proto__!==rr)throw new Error("unexpected prototype");if(Yn.value=ce,Kn(Cr,"constructor",Yn),Cr.__proto__!==rr)throw new Error("unexpected prototype");Yn.value=fe,Kn(Ir,"constructor",Yn);var Xr,Kr=Error.prototype,Vr=(e.prototype=Kr,new e);cn.prototype=Vr,Vn(cn,Error);var zr;if(Rn.value="set",Kn(pn,"name",Rn),Rn.value="set",Kn(hn,"name",Rn),Rn.value="set",Kn(dn,"name",Rn),Rn.value="set",Kn(vn,"name",Rn),Ir.__proto__!==Hn)throw new Error("unexpected prototype");Yn.value=ve,Kn(Br,"constructor",Yn),Rn.value="get",Kn(mn,"name",Rn);var Hr;if(Br.__proto__!==rr)throw new Error("unexpected prototype");if(Yn.value=cn,Kn(Vr,"constructor",Yn),Vr.__proto__!==Kr)throw new Error("unexpected prototype");Yn.value=_n,Kn(Br,"get",Yn),Yn.value=bn,Kn(Br,"construct",Yn),Yn.value=gn,Kn(Br,"remove",Yn),Yn.value=yn,Kn(Br,"add",Yn),qn.set=Fe,qn.get=wn,Kn(Ir,"name",qn),qn.set=De,qn.get=On,Kn(Ir,"duration",qn),qn.set=Be,qn.get=En,Kn(Ir,"timeScale",qn),qn.set=Ge,qn.get=jn,Kn(Ir,"timelines",qn),Yn.value=fn,Kn(Ir,"construct",Yn),Yn.value=an,Kn(Ir,"reset",Yn),Yn.value=sn,Kn(Ir,"toObject",Yn),Yn.value=on,Kn(Cr,"get",Yn),Yn.value=rn,Kn(Lr,"groupNames",Yn),Yn.value=nn,Kn(Lr,"get",Yn),Yn.value=tn,Kn(Lr,"add",Yn),Yn.value=Wt,Kn(Lr,"constructor",Yn),Sr._list=[],Sr._events={},Yn.value=Zt,Kn(Zn,"destroy",Yn),Yn.value=Jt,Kn(Zn,"toObject",Yn),qn.set=Vt,qn.get=kn,Kn(lr,"mappings",qn),Yn.value=Kt,Kn(lr,"destroy",Yn),Yn.value=Xt,Kn(lr,"toObject",Yn),Yn.value=qt,Kn(lr,"haveProp",Yn),Yn.value=Yt,Kn(lr,"remove",Yn),Yn.value=Ut,Kn(lr,"add",Yn),Yn.value=Dt,Kn(lr,"get",Yn),qn.set=Ne,qn.get=xn,Kn(ar,"name",qn),qn.set=Ie,qn.get=Tn,Kn(ar,"keyframes",qn),qn.get=Mt,Kn(ar,"list",qn),Yn.value=Ct,Kn(ar,"destroy",Yn),Yn.value=St,Kn(ar,"isCSSTransform",Yn),Yn.value=Lt,Kn(ar,"toObject",Yn),Yn.value=At,Kn(ar,"setupBubbleEvents",Yn),Yn.value=Pt,Kn(ar,"prev",Yn),Yn.value=xt,Kn(ar,"next",Yn),qn.get=kt,Kn(rr,"length",qn),qn.set=jt,qn.get=Ln,Kn(rr,"list",qn),qn.set=Et,qn.get=Sn,Kn(rr,"linkedList",qn),qn.set=Ot,qn.get=Cn,Kn(rr,"sortOn",qn),qn.set=wt,qn.get=Mn,Kn(rr,"duplicates",qn),Yn.value=_t,Kn(rr,"toArray",Yn),Yn.value=bt,Kn(rr,"each",Yn),Yn.value=gt,Kn(rr,"clear",Yn),Yn.value=yt,Kn(rr,"remove",Yn),Yn.value=mt,Kn(rr,"add",Yn),Yn.value=vt,Kn(rr,"at",Yn),Yn.value=dt,Kn(rr,"linkItems",Yn),Yn.value=ht,Kn(rr,"sort",Yn),Yn.value=pt,Kn(rr,"checkOnDuplicates",Yn),qn.set=ft,qn.get=In,Kn(ir,"mappings",qn),Yn.value=ct,Kn(ir,"destroy",Yn),Yn.value=lt,Kn(ir,"toObject",Yn),Yn.value=ut,Kn(ir,"get",Yn),Yn.value=at,Kn(ir,"remove",Yn),Yn.value=st,Kn(ir,"add",Yn),Hn.listenerCount=nt,Hn.listeners=tt,Hn.removeAllListeners=et,Hn.removeListener=We,Hn.once=Qe,Hn.addListener=$e,Hn.emit=Ze,Hn.setMaxListeners=Ve,qn.set=Me,qn.get=Pn,Kn(tr,"time",qn),qn.set=Ce,qn.get=An,Kn(tr,"ease",qn),qn.get=Re,Kn(tr,"list",qn),qn.set=Se,qn.get=Nn,Kn(tr,"value",qn),Yn.value=Te,Kn(tr,"destroy",Yn),Yn.value=Ae,Kn(tr,"toObject",Yn),Yn.value=xe,Kn(tr,"isEval",Yn),Yn.value=ke,Kn(tr,"prev",Yn),Yn.value=je,Kn(tr,"next",Yn),$n.gsap={tween:null,timeline:null,autoInject:!0,autoInjectUrl:"https://unpkg.com/gsap/src/minified/TweenMax.min.js"},spirit=Rr;var Jr,Zr,$r,Qr,Wr,ei,ti,ni,ri,ii,oi,si,ai,ui,li,ci,fi,pi,hi,di,vi,mi,yi,gi,bi,_i,wi,Oi}).call(this);