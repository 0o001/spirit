/*!
 * Spirit.js v3.1.3
 *
 * (c) 2021 Patrick Brouwer
 * Released under the MIT License.
 */
var spirit;(()=>{"use strict";var __webpack_modules__={585:(e,t,r)=>{r.d(t,{Z:()=>n});const n=new function(){this.debug=!1,this.overwriteAnimations=!0,this.gsap={instance:null,autoInject:!0,autoInjectUrl:"https://unpkg.com/gsap@3.1.1/dist/gsap.min.js"}}},168:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(792),_utils_emitter__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(942),_utils_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(417),_dec,_dec2,_dec3,_class,_class2;function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _applyDecoratedDescriptor(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Keyframe=(_dec=(0,_utils_emitter__WEBPACK_IMPORTED_MODULE_1__.g)("time",null,[{validator:function(e){return"number"==typeof e},message:"Time must be a number"}]),_dec2=(0,_utils_emitter__WEBPACK_IMPORTED_MODULE_1__.g)("ease",null),_dec3=(0,_utils_emitter__WEBPACK_IMPORTED_MODULE_1__.g)(),_dec(_class=_dec2((_class2=function(_Emitter){function Keyframe(e,t,r){var n;return void 0===r&&(r=null),(n=_Emitter.call(this)||this)._list=null,n._value=null,n.mappings=[],r=r||null,Object.assign(_assertThisInitialized(n),{time:e,value:t,ease:r}),n}_inheritsLoose(Keyframe,_Emitter);var _proto=Keyframe.prototype;return _proto.next=function(){return this._next},_proto.prev=function(){return this._prev},_proto.isEval=function(){return/{(.*?)}/.test(this._value)},_proto.toObject=function(e){var t,r;void 0===e&&(e=!1);try{r=e?this._value:this.value}catch(e){r=this._value}return(t={})[this.time+"s"]={value:r,ease:this.ease},t},_proto.destroy=function(){this.removeAllListeners()},_createClass(Keyframe,[{key:"value",get:function get(){var _this2=this;if(this.isEval()){var mappings=this.mappings.reduce((function(e,t){return t.regex.global&&(t.regex.lastIndex=0),t.regex.test(_this2._value)&&(e[t.regex]=t),e}),{}),val=this._value,res;for(var mapping in mappings)val=val.replace(mappings[mapping].regex,"mappings["+mapping+"].map");try{res=eval(val)}catch(e){if(this.mappings.length>0)throw e}return res}return this._value},set:function(e){this._value=e}},{key:"list",get:function(){return this._list}}]),Keyframe}(_utils_events__WEBPACK_IMPORTED_MODULE_2__.Emitter),_applyDecoratedDescriptor(_class2.prototype,"value",[_dec3],Object.getOwnPropertyDescriptor(_class2.prototype,"value"),_class2.prototype),_class=_class2))||_class)||_class);Keyframe.fromObject=function(e){if(!_utils__WEBPACK_IMPORTED_MODULE_0__.is.isObject(e))throw new Error("Object is invalid");var t=Object.keys(e);if(0===t.length||t.length>1)throw new Error("Object is invalid");var r=t[0],n=e[r],i=n.value,o=n.ease;if(_utils__WEBPACK_IMPORTED_MODULE_0__.is.isObject(e[r])||"string"!=typeof e[r]&&"number"!=typeof e[r]||(i=e[r],o=null),r=parseFloat(r),isNaN(r))throw new Error("Object is invalid. Invalid time object { `1s`: ... }");if(null==i)throw new Error("Object is invalid. No value found: {value}");return new Keyframe(r,i,o)},Keyframe.Events=["change","change:time","change:value","change:ease"];const __WEBPACK_DEFAULT_EXPORT__=Keyframe},267:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(0),i=r(168),o=r(792);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){var t,r;function n(t){var r;return void 0===t&&(t=[]),o.is.isObject(t)&&(t=o.OQ.objectToArray(t)),(r=e.call(this,t,i.Z,[0,0])||this).duplicates={prop:"time"},r.sortOn="time",r.linkedList=!0,r._mappings=[],r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var a,c,p,f=n.prototype;return f.add=function(t){var r=this;o.is.isObject(t)&&!(t instanceof i.Z)&&Object.keys(t).length>1&&(t=o.OQ.objectToArray(t));var n=e.prototype.add.call(this,t),a=function(e){e.mappings=[].concat(r.mappings)};return Array.isArray(n)?n.forEach(a):a(n),n},f.remove=function(t){var r=e.prototype.remove.call(this,t),n=function(e){e.mappings=[]};return Array.isArray(r)?r.forEach(n):n(r),r},f.get=function(e){var t=parseFloat(e);return this._list.find((function(e){return e.time===t}))},f.toObject=function(e){return void 0===e&&(e=!1),this.list.reduce((function(t,r){return s(s({},t),r.toObject(e))}),{})},f.destroy=function(){this.removeAllListeners(),this.each((function(e){return e.destroy()}))},a=n,(c=[{key:"mappings",get:function(){return this._mappings},set:function(e){this._mappings=e,this.each((function(t){t.mappings=[].concat(e)}))}}])&&u(a.prototype,c),p&&u(a,p),n}(n.Z);p.Events=["change:list","add","remove","change","change:time","change:value","change:ease"];const f=p},904:(e,t,r)=>{r.d(t,{Z:()=>O});var n,i,o,a,s=r(267),c=r(792),u=r(942),l=r(417);function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,h,b,y,d,v,_=(n=(0,u.g)("name",null,[{validator:function(e){return"string"==typeof e},message:"Name must be a string"},{validator:function(e){return!/^\d+\.?\d*?$/.test(e)},message:"Name must be a string"}]),i=(0,u.g)(),n((a=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r=new s.Z),(n=e.call(this)||this)._keyframes=null,n._list=null,r instanceof s.Z||(r=new s.Z(r)),t=t||null,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),{name:t,keyframes:r}),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r);var i,o,a,u=n.prototype;return u.next=function(){return this._next},u.prev=function(){return this._prev},u.setupBubbleEvents=function(){var e=this;if(this._keyframes instanceof s.Z){this._keyframes.removeAllListeners();var t=function(t,r){e._keyframes.on(t,c.U3.bubbleEvent(r,e))};t("change:list","change:keyframes:list"),t("change","change:keyframe"),t("change:time","change:keyframe:time"),t("change:value","change:keyframe:value"),t("change:ease","change:keyframe:ease"),t("add","add:keyframe"),t("remove","remove:keyframe")}},u.toObject=function(e){var t;void 0===e&&(e=!1);var r=this.keyframes?this.keyframes.toObject(e):{};return(t={})[this.name]=r,t},u.isCSSTransform=function(){return function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}(["x","y","z","rotation","rotationZ","rotationX","rotationY","skewX","skewY","scale","scaleX","scaleY"],this.name)},u.destroy=function(){this._keyframes&&this._keyframes.destroy(),this.removeAllListeners()},i=n,(o=[{key:"list",get:function(){return this._list}},{key:"keyframes",get:function(){return this._keyframes},set:function(e){e instanceof s.Z||(e=new s.Z(e));var t=[];this._keyframes&&(t=this._keyframes.mappings,this._keyframes.removeAllListeners(),this._keyframes.clear()),this._keyframes=e,this._keyframes.mappings=t,this.setupBubbleEvents()}}])&&p(i.prototype,o),a&&p(i,a),n}(l.Emitter),m=a.prototype,h="keyframes",b=[i],y=Object.getOwnPropertyDescriptor(a.prototype,"keyframes"),d=a.prototype,v={},Object.keys(y).forEach((function(e){v[e]=y[e]})),v.enumerable=!!v.enumerable,v.configurable=!!v.configurable,("value"in v||v.initializer)&&(v.writable=!0),v=b.slice().reverse().reduce((function(e,t){return t(m,h,e)||e}),v),d&&void 0!==v.initializer&&(v.value=v.initializer?v.initializer.call(d):void 0,v.initializer=void 0),void 0===v.initializer&&(Object.defineProperty(m,h,v),v=null),o=a))||o);_.fromObject=function(e){if(!c.is.isObject(e))throw new Error("Object is invalid");var t=Object.keys(e);if(0===t.length)throw new Error("Object is invalid");for(var r in e)if(!c.is.isObject(e[r]))throw new Error("Object is invalid");var n=t[0];return new _(n,e[n])},_.Events=["change","change:name","change:keyframes","change:keyframes:list","change:keyframe","change:keyframe:time","change:keyframe:value","change:keyframe:ease","add:keyframe","remove:keyframe"];const O=_},97:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(0),i=r(904),o=r(792);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){var t,r;function n(t){var r;return void 0===t&&(t=[]),o.is.isObject(t)&&(t=o.OQ.objectToArray(t)),(r=e.call(this,t,i.Z,["prop"])||this).duplicates={prop:"name"},r.sortOn=function(e,t){return e.name.localeCompare(t.name)},r.linkedList=!0,r._mappings=[],r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var a,c,p,f=n.prototype;return f.get=function(e){return this._list.find((function(t){return t.name===e}))},f.add=function(t){var r=this;o.is.isObject(t)&&!(t instanceof i.Z)&&Object.keys(t).length>1&&(t=o.OQ.objectToArray(t));var n=e.prototype.add.call(this,t),a=function(e){e.keyframes.mappings=[].concat(r.mappings)};return Array.isArray(n)?n.forEach(a):a(n),n},f.remove=function(t){var r=e.prototype.remove.call(this,t),n=function(e){e.keyframes.mappings=[]};return Array.isArray(r)?r.forEach(n):n(r),r},f.haveProp=function(e){return!!this.get(e)},f.toObject=function(e){return void 0===e&&(e=!1),this.list.reduce((function(t,r){return s(s({},t),r.toObject(e))}),{})},f.destroy=function(){this.each((function(e){return e.destroy()})),this.removeAllListeners()},a=n,(c=[{key:"mappings",get:function(){return this._mappings},set:function(e){this._mappings=e,this.each((function(t){t.keyframes.mappings=[].concat(e)}))}}])&&u(a.prototype,c),p&&u(a,p),n}(n.Z);p.Events=["change:list","add","remove","change","change:name","change:keyframes","change:keyframes:list","change:keyframe","change:keyframe:time","change:keyframe:value","change:keyframe:ease","add:keyframe","remove:keyframe"];const f=p},786:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(97),i=r(792),o=r(942),a=r(417);const s=function(e,t){if(!e||e&&!(e instanceof RegExp))throw new Error("Invalid expression.");if(null==t)throw new Error("Invalid mapping.");Object.assign(this,{regex:e,map:t})};var c,u;function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,b,y,d,v,_,O=(c=(0,o.g)(),u=function(e){var t,r;function o(t,r,i,o,a,s){var c;return void 0===t&&(t="dom"),void 0===r&&(r=null),void 0===i&&(i=new n.Z),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null),(c=e.call(this)||this).type="dom",c._transformObject=null,c.label=null,c.path=null,c.id=null,c.props=null,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(c),{type:t,props:i instanceof n.Z?i:new n.Z(i),label:s,path:o,id:a}),c.transformObject=r,c}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,m(t,r);var a,c,u,l=o.prototype;return l.validate=function(){if("dom"===this.type&&i.Do.isBrowser()&&this.transformObject&&!(this.transformObject instanceof window.Element))throw new Error("transformObject needs to be an element");if("object"===this.type&&this.transformObject&&!i.is.isObject(this.transformObject))throw new Error("transformObject needs to be an object")},l.toObject=function(e){void 0===e&&(e=!1);var t={type:this.type,transformObject:this.transformObject,props:this.props.toObject(e),label:this.label,path:this.path,id:this.id};return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t},l.destroy=function(){this.props instanceof n.Z&&this.props.each((function(e){return e.destroy()}))},a=o,(c=[{key:"transformObject",get:function(){return this._transformObject},set:function(e){if(this._transformObject=e,this.validate(),e&&this.props instanceof n.Z){var t=this.props.mappings.find((function(e){return"/this/g"===String(e.regex)}));t?t.map=e:this.props.mappings.push(new s(/this/g,e)),this.props.mappings=[].concat(this.props.mappings)}"dom"===this.type&&e instanceof window.Element&&(this._style||(this._style=e.getAttribute("style")),this._transform||(this._transform=e.getAttribute("transform"),e.removeAttribute("transform")))}}])&&f(a.prototype,c),u&&f(a,u),o}(a.Emitter),h=u.prototype,b="transformObject",y=[c],d=Object.getOwnPropertyDescriptor(u.prototype,"transformObject"),v=u.prototype,_={},Object.keys(d).forEach((function(e){_[e]=d[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=y.slice().reverse().reduce((function(e,t){return t(h,b,e)||e}),_),v&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(v):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(h,b,_),_=null),u);O.fromObject=function(e){if(!i.is.isObject(e))throw new Error("Object is invalid.");var t=i.OQ.objectToArray(e).filter((function(e){return void 0!==e}));return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:t.type||"dom",props:{}},i.OQ.arrayToObject(t)),new O(t.type,t.transformObject,t.props,t.path||void 0,t.id||void 0,t.label||void 0)};const g=O},0:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(320);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r){return(a=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){var t,r;function s(t,r,i){var o;if((void 0===t&&(t=[]),void 0===r&&(r=null),void 0===i&&(i=void 0),(o=e.call(this)||this)._list=[],o._model=null,o._duplicates=!0,o._sortOn=!1,o._linkedList=!1,o._model=r,r)&&"function"!=typeof(void 0!==i?a(r,i):new r).toObject)throw new Error("Invalid Model prototype. model.toObject does not exist.");if(!Array.isArray(t))throw new Error("Items should be an array");return o._list=t.reduce((function(e,t){if(o._model)if(t instanceof o._model)t._list=u(o),t.setupBubbleEvents&&"function"==typeof t.setupBubbleEvents&&t.setupBubbleEvents(),e.push(t);else{if(!n.isObject(t)||"function"!=typeof r.fromObject)throw new Error("Could not parse item from model");var i=r.fromObject(t);i._list=u(o),i.setupBubbleEvents&&"function"==typeof i.setupBubbleEvents&&i.setupBubbleEvents(),e.push(i)}else e.push(t);return e}),[]),o}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var p,f,m,h=s.prototype;return h.checkOnDuplicates=function(){var e=this._duplicates,t=!1,r=!1;if("boolean"==typeof e&&!1===e&&(t=this.list.map((function(e){return{count:1,item:e}})).reduce((function(e,t){return e[t.item]=(e[t.item]||0)+t.count,e}),{})),n.isObject(e)&&e.hasOwnProperty("prop")&&(r=!0,t=this.list.map((function(t){return{count:1,prop:t[e.prop]}})).reduce((function(e,t){return e[t.prop]=(e[t.prop]||0)+t.count,e}),{})),t&&Object.keys(t).filter((function(e){return t[e]>1})).length>0){var i=Object.keys(t).find((function(e){return t[e]>1})),o=!!r&&e.prop+": "+i,a=!!this._model&&this.constructor.name+" > "+this._model.name+" > { "+o+" }";throw new Error("List has duplicates. "+a)}},h.sort=function(){var e=this._sortOn;"boolean"==typeof e&&!0===e&&(this._list=this._list.sort()),"string"==typeof e&&(this._list=this._list.sort((function(t,r){var i=t[e],o=r[e];if(n.isNumeric(i))return i-o;String(i).localeCompare(String(o))}))),"function"==typeof e&&(this._list=this._list.sort(e))},h.linkItems=function(){if(this._linkedList)for(var e=0;e<this._list.length;e++){if(!n.isObject(this._list[e]))throw new Error("Can not link primitives.");this._list[e]._prev=e>0?this._list[e-1]:null,this._list[e]._next=e<this._list.length-1?this._list[e+1]:null}},h.at=function(e){if(e>=this._list.length)throw new Error("Index exceeded. Requested "+e+", have length of "+this.length);return this._list[e]},h.add=function(e){var t=this,r=null,i=function(e){var i;if(t._model)if(e instanceof t._model)(i=e)._list=t,i.setupBubbleEvents&&"function"==typeof i.setupBubbleEvents&&i.setupBubbleEvents();else{if(!n.isObject(e)||"function"!=typeof t._model.fromObject)throw new Error("Invalid item.");(i=t._model.fromObject(e))._list=t,i.setupBubbleEvents&&"function"==typeof i.setupBubbleEvents&&i.setupBubbleEvents()}else i=e;Array.isArray(r)?r.push(i):r=i,t._list.push(i),t.emit("add",i)};return Array.isArray(e)?(r=[],e.forEach(i)):i(e),this.checkOnDuplicates(),this.sort(),this.linkItems(),r},h.remove=function(e){var t=this,r=null,i=function(e){var i=function(e){var i=t._list.indexOf(e);i>-1&&(t._list.splice(i,1),n.isObject(e)&&("_prev"in e&&delete e._prev,"_next"in e&&delete e._next),t.emit("remove",e),e._list&&e._list instanceof s&&(e._list=null),Array.isArray(r)?r.push(e):r=e)};t._model?e instanceof t._model&&i(e):i(e)};return Array.isArray(e)?(r=[],e.forEach(i)):i(e),this.sort(),this.linkItems(),r},h.clear=function(){this.each(this.remove.bind(this))},h.each=function(e){for(var t=[].concat(this.list),r=[],n=!1,i=0;i<t.length;i++){var o=t[i];try{r.push(e(o,i))}catch(e){n=e}if(n)break}if(n)throw n;return r},h.toArray=function(){return(this._model?this.list.map((function(e){return e.toObject()})):this.list).reduce((function(e,t){if(n.isObject(t)){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);delete r._prev,delete r._next,delete r._list,e.push(r)}else e.push(t);return e}),[])},p=s,(f=[{key:"duplicates",get:function(){return this._duplicates},set:function(e){this._duplicates=e,this.checkOnDuplicates()}},{key:"sortOn",get:function(){return this._sortOn},set:function(e){this._sortOn=e,this.sort()}},{key:"linkedList",get:function(){return this._linkedList},set:function(e){this._linkedList=e,this.linkItems()}},{key:"list",get:function(){return this._list},set:function(e){if(!Array.isArray(e))throw new Error("List should be an array");this._list=e,this._linkedList&&this.linkItems(),this.emit("change:list",e)}},{key:"length",get:function(){return this.list.length}}])&&c(p.prototype,f),m&&c(p,m),s}(r(417).Emitter);p.Events=["change:list","add","remove"];const f=p},969:(e,t,r)=>{function n(){return"object"==typeof window&&"object"==typeof document}r.r(t),r.d(t,{isBrowser:()=>n})},219:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(969),i=r(585);const o=function(){return(0,n.isBrowser)()&&Boolean(i.Z.debug)}},942:(e,t,r)=>{r.d(t,{g:()=>l});var n=r(417),i=r(0),o=r(320);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e,t,r){var a=r.set;if(!n.Emitter.prototype.isPrototypeOf(e)&&!n.Emitter.prototype.isPrototypeOf(e.prototype))throw new Error("@emitter.emitChange can only be applied to event emitters");return s(s({},r),{},{configurable:!0,set:function(e){var r,s=this,c=function(r){var n;return(0,o.isFunction)(s.toObject)?s.toObject():((n={})[t]=void 0!==r?r:e,n)},u=this["_"+t];if(u&&"function"==typeof u.toArray?u=u.toArray():u&&"function"==typeof u.toObject&&(u=u.toObject()),u!==e&&(r=c(u)),a.call(this,e),this._list instanceof i.Z&&!0!==this._list._duplicates)try{this._list.checkOnDuplicates()}catch(e){throw a.call(this,u),e}if(u!==e){var l,p=u&&(0,o.isFunction)(u.toObject)?u.toObject():u,f=e&&(0,o.isFunction)(e.toObject)?e.toObject():e,m={type:t,from:p,to:f};try{l=c()}catch(r){var h;(h={})[t]=e,l=h}var b,y,d={previous:r,current:l,changed:m},v=["change",d],_=["change:"+t,d,e];if(this.emit.apply(this,v),this.emit.apply(this,_),this._list&&this._list instanceof n.Emitter)(b=this._list).emit.apply(b,v),(y=this._list).emit.apply(y,_)}}})};function l(e,t,r){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=[]),e?function(n){var i;Object.defineProperties(n.prototype,((i={})["_"+e]={value:t,writable:!0,enumerable:!1,configurable:!0},i[e]={configurable:!0,get:function(){return this["_"+e]},set:function(t){var n=r.reduce((function(e,r){return r.validator(t)||e.push(r.message),e}),[]);if(n.length>0)throw new Error(""+n[0]);this["_"+e]=t}},i));var o=Object.getOwnPropertyDescriptor(n.prototype,e);Object.defineProperty(n.prototype,e,u(n,e,o))}:u}},417:(e,t,r)=>{r.r(t),r.d(t,{Emitter:()=>u,bubbleEvent:()=>s,createEventObjectForModel:()=>c});var n=r(0);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(t instanceof u))throw new Error("Scope needs to be an emitter.");return function(){var t;(this.emit.apply(this,[e].concat(Array.prototype.slice.call(arguments))),this._list instanceof n.Z)&&(t=this._list).emit.apply(t,[e].concat(Array.prototype.slice.call(arguments)))}.bind(t)}function c(e,t,r,n,i){var a;return{prevModel:e.fromObject(t),model:e.fromObject(o(o({},t),{},(a={},a[r]=i,a))),changed:{type:r,from:n,to:i}}}var u=function(){function e(){var e;this._emitter={all:e=e||new Map,on:function(t,r){var n=e.get(t);n&&n.push(r)||e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&n.splice(n.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map((function(e){e(r)})),(e.get("*")||[]).slice().map((function(e){e(t,r)}))}}}var t=e.prototype;return t.emit=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this._emitter).emit.apply(t,[e].concat(n))},t.on=function(e,t){this._emitter.on(e,t)},t.removeListener=function(e,t){this._emitter.off(e,t)},t.removeAllListeners=function(){this._emitter.all.clear()},e}()},340:(e,t,r)=>{r.r(t),r.d(t,{ensure:()=>h,generateTimeline:()=>d,has:()=>m,isGSAPInstance:()=>O,isGSAPTimeline:()=>_,killTimeline:()=>v,loadFromCDN:()=>b,transformOrigins:()=>y});var n=r(585),i=r(969);var o=r(786),a=r(219),s=r(320);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){return O(n.Z.gsap.instance)}function h(){return m()?Promise.resolve():(0,i.isBrowser)()&&O(window.gsap)?(n.Z.gsap.instance=window.gsap,Promise.resolve()):n.Z.gsap.autoInject?((0,a.Z)()&&console.warn("\n\n      GSAP is being fetched from CDN: "+n.Z.gsap.autoInjectUrl+".\n      If you already have GSAP installed, please provide it to Spirit:\n\n        spirit.setup(gsap)\n\n      You want to use another cdn? Change it here:\n\n        spirit.config.gsap.autoInjectUrl = 'https://cdn.xxx'\n\n    "),this.loadFromCDN()):((0,a.Z)()&&console.warn('\n\n        It seems that you\'ve disabled autoInject. GSAP cannot be found or loaded by Spirit.\n        Please make sure you provide the tween and timeline to Spirit:\n\n        spirit.setup({\n          tween: TweenMax,\n          timeline: TimelineMax\n        })\n\n        Or enable the autoInject "spirit.config.gsap.autoInject = true".\n\n      '),Promise.reject(new Error("GSAP not found.")))}function b(){return(e=n.Z.gsap.autoInjectUrl,(0,i.isBrowser)()?new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.async=!0,n.onload=function(){document.body.removeChild(n),t()},n.onerror=function(){document.body.removeChild(n),r(new Error("Could not load script "+e))},document.body.appendChild(n)})):Promise.reject(new Error("Script can only be loaded in the browser: "+e))).then((function(){return O(window.gsap)?(n.Z.gsap.instance=window.gsap,Promise.resolve()):Promise.reject(new Error("GSAP could not be loaded from CDN: "+n.Z.gsap.autoInjectUrl))})).catch((function(e){return Promise.reject(e)}));var e}function y(e){var t=e.props.get("transformOrigin"),r=t&&t.keyframes.list.map((function(e){return{time:e.time,value:e.value}}))||[];(r.length>0&&0!==r[0].time||0===r.length)&&r.unshift({time:0,value:"50% 50%"});var n,i,o=r.shift();return i=function(){return{current:o,next:n}},n=function(){return o=r&&r.length>0&&r.shift()||null,i()},i()}function d(e){if(!(e&&e instanceof o.Z))throw new Error("Need valid timeline data to generate GSAP timeline from");if("dom"!==e.type)throw new Error("Timeline invalid. Needs a timeline with type of dom.");if(!m())throw new Error("GSAP not set. Please make sure GSAP is available.");var t=n.Z.gsap.instance.timeline({paused:!0}),r=y(e),i=r.current;return e.props.each((function(n){if(0!==n.keyframes.length&&"transformOrigin"!==n.name&&"svgOrigin"!==n.name)for(var o=n.keyframes.at(0);o;){var a,s=o,c=s.value,u=s.ease,l=s.time,f=o.prev(),m=f?f.time:0,h=f?l-f.time:l,b={ease:u||"none"},y=((a={})[n.name]=c,a);if(/\./.test(n.name)){for(var d=n.name.split("."),v=d.pop(),_={},O=_;d.length>0;){var g=d.shift();_[g]={},_=_[g]}_[v]=c,y=O}b=p(p(p({},b),y),{},{duration:h}),0===l&&(b.immediateRender=!0),n.isCSSTransform()&&i&&l>=i.time&&(b.transformOrigin=i.value,i=r.next().current),t.to(e.transformObject,b,m),o=o.next()}})),t}function v(e){if(_(e)){e.eventCallback&&(e.eventCallback("onComplete",null),e.eventCallback("onUpdate",null),e.eventCallback("onStart",null),e.eventCallback("onReverseComplete",null),e.eventCallback("onRepeat",null));var t=e.getChildren?e.getChildren():[];e.kill();for(var r=0;r<t.length;r++){if(t[r]._targets)for(var i,o=c(t[r]._targets);!(i=o()).done;){var a=i.value;n.Z.gsap.instance.set(a,{clearProps:"all"}),delete a._gsap}_(t[r])&&v(t[r])}e.clear&&e.clear()}return e}function _(e){return e&&n.Z.gsap.instance&&e instanceof n.Z.gsap.instance.core.Animation}function O(e){return(0,s.isObject)(e)&&(0,s.isFunction)(e.to)&&(0,s.isFunction)(e.timeline)}},792:(e,t,r)=>{r.d(t,{Do:()=>a,OQ:()=>n,fF:()=>b.Z,U3:()=>c,p8:()=>s,is:()=>h,jU:()=>g,UW:()=>o,U7:()=>i});var n={};r.r(n),r.d(n,{arrayToObject:()=>m,objectToArray:()=>f});var i={};r.r(i),r.d(i,{getElement:()=>d,getExpression:()=>y});var o={};r.r(o),r.d(o,{resolveElement:()=>v});var a=r(969),s=r(340),c=r(417);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return Object.keys(e).reduce((function(t,r){var n;return t.push(((n={})[r]=e[r],n)),t}),[])}function m(e){return e.reduce((function(e,t){return e=l(l({},e),t)}),{})}var h=r(320),b=r(219);function y(e,t){void 0===t&&(t=null);for(var r=[];e.nodeType===window.Node.ELEMENT_NODE&&(!t||t!==e);){for(var n=0,i=e.previousSibling;i;i=i.previousSibling)i.nodeType!==window.Node.DOCUMENT_TYPE_NODE&&i.nodeName===e.nodeName&&++n;var o=e.nodeName.toLowerCase(),a="["+(n+1)+"]";(0,h.isSVG)(e)&&(o="*[local-name()='"+o+"']"),r.unshift(o+a),e=e.parentNode}return 0===r.length?null:t?r.join("/"):"/"+r.join("/")}function d(e,t){void 0===t&&(t=null),t||(t=document.body||document.documentElement);try{return document.evaluate(e,t,null,window.XPathResult.ANY_TYPE,null).iterateNext()}catch(t){(0,b.Z)()&&(console.error("Cannot get element from expression: ",e),console.error(t.stack))}return null}r(942);function v(e,t,r){void 0===r&&(r=!1);var n=null,i=t.path,o=t.id;if(o&&(n=e.querySelector('[data-spirit-id="'+o+'"]')),!n&&i&&(n=d(i,e===document.body?void 0:e)),!n&&((0,b.Z)()&&(console.group("Unable to resolve element"),console.warn("Timeline: ",t),console.groupEnd()),r))throw new Error("Cannot find element.");return n}var _={},O={};function g(e){if(!(0,a.isBrowser)())return Promise.reject(new Error("Invalid context. jsonLoader can only be used in browser."));if(e in O)return Promise.resolve(O[e]);if(e in _)return _[e];var t=new Promise((function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)try{var n=JSON.parse(this.responseText);O[e]=n,t(n),delete _[e]}catch(t){r(new Error("jsonLoader: Invalid json for request "+e))}};try{n.open("GET",encodeURI(e),!0),n.send()}catch(t){r(new Error("Could not open request. Unable to load "+e))}}));return _[e]||(_[e]=t),t}},320:(e,t,r)=>{function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return e instanceof window.SVGElement}function o(e){return"function"==typeof e}function a(e){return!isNaN(e)}r.r(t),r.d(t,{isObject:()=>n,isSVG:()=>i,isFunction:()=>o,isNumeric:()=>a})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{default:()=>W});var e=__webpack_require__(792),t=__webpack_require__(585),r=__webpack_require__(340);function n(n){return void 0===n&&(n=null),new Promise((function(i,o){(0,r.isGSAPInstance)(n)&&(t.Z.gsap.instance=n),e.p8.ensure().then(i).catch(o)}))}var i=__webpack_require__(0),o=__webpack_require__(786);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}const s=function(e){var t,r;function n(t){return void 0===t&&(t=[]),e.call(this,t,o.Z,["object",{}])||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r),n.prototype.get=function(e){return this._list.find((function(t){return t.transformObject===e}))},n}(i.Z);var c=__webpack_require__(942);function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)})(e)}function l(e,t,r){return(l=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&f(i,r.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,b,y,d,v,_=function(e){var t,r;function n(t,r,i){var o;return void 0===i&&(i=null),(o=e.call(this,t)||this).transformObject=null,i?o.stack=i:Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o),n),o.transformObject=r,o.name="TimelineError",o.message=t,o}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,f(t,r),n}(u(Error)),O=__webpack_require__(417);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A=(h=(0,c.g)(),b=(0,c.g)(),y=(0,c.g)(),d=(0,c.g)(),k((v=function(n){var i,o;function a(e){var t;if(void 0===e&&(e={}),(t=n.call(this)||this)._name="untitled",t._timeScale=1,t._timelines=new s,t.timeline=null,!e.name||"string"!=typeof e.name||""===e.name.trim())throw new Error("Cannot create group without a name.");var r={name:"untitled",timeScale:1,timelines:new s};return Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),w(w({},r),e)),t}o=n,(i=a).prototype=Object.create(o.prototype),i.prototype.constructor=i,E(i,o);var c,u,l,p=a.prototype;return p.toObject=function(){return{name:this.name,timeScale:this.timeScale,timelines:this.timelines.toArray()}},p.reset=function(){var t=!1;return this.timeline&&(t=!0,e.p8.killTimeline(this.timeline),this.timelines.each((function(e){"dom"===e.type&&e.transformObject instanceof window.Element&&(e._style&&e.transformObject.setAttribute("style",e._style),e._transform&&e.transformObject.setAttribute("transform",""))}))),t},p.resolve=function(){this.reset();var t=this._list&&this._list.rootEl?this._list.rootEl:null;if(!t)return this;var r=!1;return this.timelines.each((function(n){"dom"===n.type&&(n.transformObject=t?e.UW.resolveElement(t,n):null,n.transformObject&&(n.path=e.U7.getExpression(n.transformObject,t)),r||n.transformObject||(r=!0))})),this.emit("resolve",{resolved:this.resolved,unresolved:this.unresolved}),r&&((0,e.fF)()&&console.warn("Could not resolve all elements for group "+this.name,this.unresolved),this.emit("unresolve",this.unresolved)),this},p.construct=function(r){var n=this;void 0===r&&(r=!1);try{if(!e.p8.has())throw(0,e.fF)()&&console.warn("Cannot construct group "+this.name+". GSAP not found."),new Error("GSAP cannot be found");r&&this.resolve(),this.reset()||(this.timeline=t.Z.gsap.instance.timeline({paused:!0})),this.resolved.each((function(t){if("dom"===t.type&&t.transformObject instanceof window.Element)try{n.timeline.add(e.p8.generateTimeline(t).play(),0,"start")}catch(e){throw new _(e.message,t.transformObject,e.stack)}})),this.timeline.timeScale(this.timeScale),this._duration=this.timeline.duration()}catch(e){throw e.message="Could not construct timeline: "+e.message,e}return this.emit("construct",this.timeline),this.timeline},c=a,(u=[{key:"timelines",get:function(){return this._timelines},set:function(e){e instanceof s||(e=new s(Array.from(e))),this._timelines=e}},{key:"unresolved",get:function(){var e=new s;return this.timelines.each((function(t){return!t.transformObject&&e.add(t)})),e}},{key:"resolved",get:function(){var e=new s;return this.timelines.each((function(t){return!!t.transformObject&&e.add(t)})),e}},{key:"timeScale",get:function(){return this._timeScale},set:function(e){if("number"!=typeof e||!Number.isFinite(e))throw new Error("timeScale needs to be a number");(0,r.isGSAPTimeline)(this.timeline)&&this.timeline.timeScale(e),this._timeScale=e}},{key:"duration",get:function(){return this.timeline?this.timeline.duration():0},set:function(e){(0,r.isGSAPTimeline)(this.timeline)&&(this.timeline.duration(e),this.timeScale=this.timeline.timeScale(),this._duration=this.timeline.duration())}},{key:"name",get:function(){return this._name},set:function(e){if("string"!=typeof e)throw new Error("Name needs to be a string");this._name=e}}])&&P(c.prototype,u),l&&P(c,l),a}(O.Emitter)).prototype,"timelines",[h],Object.getOwnPropertyDescriptor(v.prototype,"timelines"),v.prototype),k(v.prototype,"timeScale",[b],Object.getOwnPropertyDescriptor(v.prototype,"timeScale"),v.prototype),k(v.prototype,"duration",[y],Object.getOwnPropertyDescriptor(v.prototype,"duration"),v.prototype),k(v.prototype,"name",[d],Object.getOwnPropertyDescriptor(v.prototype,"name"),v.prototype),v);A.fromObject=function(e){return new A(e)};const S=A;function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}const x=function(t){var r,n;function i(e,r){var n;if(void 0===e&&(e=document.body),void 0===r&&(r=[]),(n=t.call(this,r,S,[{name:"untitled"}])||this).rootEl=null,!(e instanceof window.Element))throw new Error("No root element provided.");return n.rootEl=e,n.each((function(e){return T.add(e)})),n}n=t,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,D(r,n);var o=i.prototype;return o.add=function(e){var r=t.prototype.add.call(this,e);return Array.isArray(r)?r.forEach((function(e){return T.add(e)})):T.add(r),r},o.remove=function(e){var r=t.prototype.remove.call(this,e);return Array.isArray(r)?r.forEach((function(e){return T.remove(e)})):T.remove(r),r},o.construct=function(t){if(void 0===t&&(t=!1),!e.p8.has())throw(0,e.fF)()&&console.warn("Trying to construct groups, but GSAP cannot be found."),new Error("GSAP cannot be found");return this.list.map((function(e){return e.construct(t)}))},o.get=function(e){return this.list.find((function(t){return t.name===e}))},i}(i.Z);__webpack_require__(168),__webpack_require__(267),__webpack_require__(904),__webpack_require__(97);function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}const T=new(function(e){var t,r;function n(){return e.call(this,[])||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Z(t,r);var i=n.prototype;return i.add=function(t){if(!(t instanceof S))throw new Error("Invalid group. Only Group instances allowed.");e.prototype.add.call(this,t)},i.remove=function(t){return t.reset(),e.prototype.remove.call(this,t)},i.get=function(e){return this.list.find((function(t){return t.name===e}))},i.groupNames=function(){return this.list.map((function(e){return e.name}))},n}(i.Z));function C(){var e=[];return{add:function(t,r){var n=function(t){for(var r=0;r<e.length;r++){var n=e[r];if(n.rootEl===t)return n}return null}(t);n||(n=new x(t,[]),e.push(n)),r&&(r._list=n,r.resolve(),n.add(r))},groups:function(){return 1===e.length?e[0]:e}}}function I(t,r){if(void 0===r&&(r=void 0),!e.Do.isBrowser())throw new Error("Invalid context. spirit.create() can only be executed in the browser.");var n=!1;r instanceof window.Element||(n=!0,r=document.body||document.documentElement),e.is.isObject(t)&&t.groups&&Array.isArray(t.groups)&&(t=t.groups),Array.isArray(t)||(t=[t]);var i=C();return 0===t.length&&i.add(r,null),t.forEach((function(t){var o=r;n&&t.root&&((o=e.UW.resolveElement(r,t.root))||(o=r));var a={name:t.name,timeScale:t.timeScale||1,timelines:[]};(t.timelines||[]).forEach((function(e){a.timelines.push({type:e.type,props:e.props,label:e.label||e.id||e.path,path:e.path||null,id:e.id||null})})),i.add(o,new S(a))})),i.groups()}function B(t,r){return void 0===r&&(r=void 0),e.Do.isBrowser()?(0,e.jU)(t).then((function(e){return I(e,r)})):Promise.reject(new Error("Invalid context: spirit.load() can only be executed in the browser."))}var L=__webpack_require__(320);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q={loop:!1,autoPlay:!0,yoyo:!1,delay:0,timeScale:!1};function U(e,t){return void 0===e?Promise.resolve([]):(0,L.isObject)(e)||Array.isArray(e)?Promise.resolve(I(e,t)):Promise.reject(new Error("Invalid animation data"))}function z(e,t){return e&&"string"==typeof e&&e.length>0?B(e,t):Promise.resolve([])}var G=__webpack_require__(219),F="3.1.3",K={config:t.Z,version:F,setup:n,groups:T,create:I,load:B,loadAnimation:function(e){var t=M(M({},q),e),r=t.animationData,i=t.container,o=t.path;return!0===t.loop&&(t.loop=-1),new Promise((function(e,a){n().then((function(){return Promise.all([U(r,i),z(o,i)])})).then((function(e){var t=e[0],r=e[1],n=[];function i(e){Array.isArray(e)?n.push.apply(n,e):n.push(e)}return i(t),i(r),n})).then((function(r){var n=[],i={};1===r.length&&1===r[0].length?n.push(r[0].at(0).construct()):(r.forEach((function(e){e.each((function(e){i[e.name]=e.construct(),i[e.name].construct=function(){var t=T.get(e.name).construct();return t.construct=this.construct,t}}))})),n.push.apply(n,Object.keys(i).map((function(e){return i[e]}))));for(var o=0;o<n.length;o++){var a=n[o];if(t.loop){var s="boolean"==typeof t.loop?-1:t.loop;a.repeat(s)}t.yoyo&&a.yoyo(!0),0!==t.delay&&a.repeatDelay(t.delay),t.timeScale&&a.timeScale(t.timeScale),t.autoPlay&&a.play(0)}1===n.length&&(n[0].then=void 0,e(n[0])),e(i)})).catch(a)}))}};const W=K;e.Do.isBrowser()&&(void 0!==window&&(window.spirit=K),(0,G.Z)()&&console.warn("You are running the development build of Spirit v3.1.3."))})(),spirit=__webpack_exports__.default})();